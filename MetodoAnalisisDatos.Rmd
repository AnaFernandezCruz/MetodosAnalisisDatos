---
title: "Métodos de Análisis de Datos"
author: "Ana Fernández Cruz, Jesús Gallego Olivas y Miguel Ángel Sánchez Alcázar."
output: html_document
---

A continuación, se detallan los diferentes apartados evaluables en el desarrollo de la práctica y su puntuación. La puntuación completa corresponde al correcto uso, y justificación, de cada una de las técnicas empleadas.

1. Uso de herramienta/s de control de versiones (1 punto)

Para el control de versiones utilizaremos github. El repositorio se encuentra en https://github.com/AnaFernandezCruz/MetodosAnalisisDatos

2. Definición de objetivos (1 punto)


3. Análisis exploratorio inicial (1 punto)

Antes de empezar a realizar la práctica tenemos que cargar los dataset incluidos en la página de Kaggle, unificarlos en un solo dataset y dividirlo en train/test/validación. Para ello:

```{r message=FALSE, warning=FALSE}
library(readr)
train_kaggle <- read_csv("~/Master/T1/FundamentosAnalisisDatos/4.MétodosAnálisisDatos/Practica/Dataset/train.csv")
head(train_kaggle)

test_kaggle <- read_csv("~/Master/T1/FundamentosAnalisisDatos/4.MétodosAnálisisDatos/Practica/Dataset/test.csv")
head(test_kaggle)

claves_primarias <- read_csv("~/Master/T1/FundamentosAnalisisDatos/4.MétodosAnálisisDatos/Practica/Dataset/sample_submission.csv")
head(claves_primarias)

#Mergeamos el archivo de train y test ya que tienen las mismas columnas.
train_test_kaggle <-merge(train_kaggle, test_kaggle)
head(train_test)

#Una vez hemos hecho hecho, hacemos un join con las claves primarias.
library(plyr)
full_dataset <- join(train_test_kaggle, claves_primarias, by = c("Id", "SalePrice"), type = "inner")
head(full_dataset)
```

Una vez tenemos los 3 csv unidos en uno, procedemos a separar los datos de validación.

```{r}
dt = sort(sample(nrow(full_dataset), nrow(full_dataset)*.1))

validacion<-full_dataset[dt,]
write.csv(validacion, "validacion.csv")

train_test<-full_dataset[-dt,]
write.csv(train_test, "train_test.csv")

#Si queremos dividir el csv de train y test en dos csv independientes, haremos lo siguiente
train_test <- read_csv("~/Master/T1/FundamentosAnalisisDatos/4.MétodosAnálisisDatos/Practica/Dataset/train_test.csv")
dt = sort(sample(nrow(train_test), nrow(train_test)*.7))

train<-train_test[dt,]
test<-train_test[-dt,]

```

4. Detección, tratamiento e imputación de datos faltantes (1 punto)
5. Transformaciones de variables cuantitativas (1 punto)
6. Procesado de variables cualitativas (1 punto)
7. Selección de variables (1 punto)
8. Ajuste, interpretación y diagnosis del modelo de regresión lineal múltiple (2 puntos)
9. Valoración del profesor (1 punto)

